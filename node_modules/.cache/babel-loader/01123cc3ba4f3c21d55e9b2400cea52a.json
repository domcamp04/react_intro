{"ast":null,"code":"var _jsxFileName = \"/Users/Dominick/Documents/codingtemple-sept-2021/week7/react-intro-72/src/App.js\";\nimport React, { Component } from 'react';\nimport { Route } from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport { PostDetail } from './components/PostDetail';\nimport About from './views/About';\nimport Home from './views/Home';\nimport { Login } from './views/Login';\nimport { Posts } from './views/Posts';\nimport Racers from './views/Racers';\nimport Register from './views/Register';\nimport Users from './views/Users';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = step => {\n      let newCount = this.state.count + step;\n      this.setState({\n        count: newCount\n      });\n    };\n\n    this.changeName = name => {\n      //   const name = prompt('What is your name?');\n      this.setState({\n        name\n      });\n    };\n\n    this.logOut = () => {\n      localStorage.removeItem('token');\n      this.setState({\n        loggedIn: null\n      });\n    };\n\n    this.logIn = e => {\n      e.preventDefault();\n      let username = e.target.username.value;\n      let password = e.target.password.value;\n      let encodedString = btoa(`${username}:${password}`);\n      let myHeaders = new Headers();\n      myHeaders.append('Authorization', `Basic ${encodedString}`);\n      fetch('http://localhost:5000/api/token', {\n        method: 'POST',\n        headers: myHeaders\n      }).then(res => res.json()).then(data => {\n        localStorage.setItem('token', data['token']);\n        localStorage.setItem('userId', data['user_id']);\n        this.setState({\n          loggedIn: data['token'],\n          userId: data['user_id']\n        });\n      }).catch(err => console.error(err));\n    };\n\n    console.log('Constructed!');\n    this.state = {\n      count: 0,\n      name: 'Brian',\n      loggedIn: localStorage.getItem('token'),\n      userId: localStorage.getItem('userId')\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        loggedIn: this.state.loggedIn,\n        logOut: this.logOut\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(Home, {\n            count: this.state.count,\n            handleClick: this.handleClick,\n            name: this.state.name,\n            changeName: this.changeName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/about\",\n          children: /*#__PURE__*/_jsxDEV(About, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/racers\",\n          children: /*#__PURE__*/_jsxDEV(Racers, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/users\",\n          children: /*#__PURE__*/_jsxDEV(Users, {\n            userId: this.state.userId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/posts\",\n          children: /*#__PURE__*/_jsxDEV(Posts, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/register\",\n          children: /*#__PURE__*/_jsxDEV(Register, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(Login, {\n            handleSubmit: this.logIn,\n            loggedIn: this.state.loggedIn\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/posts/:id\",\n          component: PostDetail\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/Users/Dominick/Documents/codingtemple-sept-2021/week7/react-intro-72/src/App.js"],"names":["React","Component","Route","Navbar","PostDetail","About","Home","Login","Posts","Racers","Register","Users","App","constructor","props","handleClick","step","newCount","state","count","setState","changeName","name","logOut","localStorage","removeItem","loggedIn","logIn","e","preventDefault","username","target","value","password","encodedString","btoa","myHeaders","Headers","append","fetch","method","headers","then","res","json","data","setItem","userId","catch","err","console","error","log","getItem","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Route } from 'react-router-dom'\nimport Navbar from './components/Navbar';\nimport { PostDetail } from './components/PostDetail';\nimport About from './views/About';\nimport Home from './views/Home';\nimport { Login } from './views/Login';\nimport { Posts } from './views/Posts';\nimport Racers from './views/Racers';\nimport Register from './views/Register';\nimport Users from './views/Users';\n\nexport default class App extends Component {\n  constructor(props){\n    super(props);\n    console.log('Constructed!')\n    this.state = {\n      count: 0,\n      name: 'Brian',\n      loggedIn: localStorage.getItem('token'),\n      userId: localStorage.getItem('userId')\n    };\n  };\n\n  handleClick = (step) => {\n    let newCount = this.state.count + step\n    this.setState({\n        count: newCount\n    })\n  }\n\n  changeName = (name) => {\n    //   const name = prompt('What is your name?');\n      this.setState({\n          name\n      })\n  }\n\n  logOut = () =>{\n    localStorage.removeItem('token');\n    this.setState({\n      loggedIn: null\n    })\n  }\n\n  logIn = (e) => {\n    e.preventDefault();\n    let username = e.target.username.value;\n    let password = e.target.password.value;\n    let encodedString = btoa(`${username}:${password}`)\n    let myHeaders = new Headers();\n    myHeaders.append('Authorization', `Basic ${encodedString}`)\n    \n    fetch('http://localhost:5000/api/token', {\n        method: 'POST',\n        headers: myHeaders\n    }).then(res => res.json())\n        .then(data => {\n            localStorage.setItem('token', data['token'])\n            localStorage.setItem('userId', data['user_id'])\n            this.setState({\n              loggedIn: data['token'],\n              userId: data['user_id']\n            })\n        })\n        .catch(err => console.error(err))\n  }\n\n  render() {\n    return (\n      <>\n        <Navbar loggedIn={this.state.loggedIn} logOut={this.logOut}/>\n        <div className='container'>\n            <Route exact path='/'>\n                <Home count={this.state.count} handleClick={this.handleClick} name={this.state.name} changeName={this.changeName}/>\n            </Route>\n            <Route exact path='/about'>\n                <About />\n            </Route>\n            <Route exact path='/racers'>\n                <Racers />\n            </Route>\n            <Route exact path='/users'>\n                <Users userId={this.state.userId}/>\n            </Route>\n            <Route exact path='/posts'>\n                <Posts />\n            </Route>\n            <Route exact path='/register'>\n                <Register />\n            </Route>\n            <Route exact path='/login'>\n                <Login handleSubmit={this.logIn} loggedIn={this.state.loggedIn}/>\n            </Route>\n\n            <Route exact path='/posts/:id' component={PostDetail}></Route>\n\n        </div>\n      </>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}