{"ast":null,"code":"var _jsxFileName = \"/Users/Dominick/Documents/codingtemple-sept-2021/week7/react-intro-72/src/views/Users.js\";\nimport React, { Component } from 'react';\nimport UserCard from '../components/UserCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Users extends Component {\n  constructor(props) {\n    super(props);\n\n    this.usersHaveBeenUpdated = () => {\n      this.setState({\n        hasBeenUpdated: !this.state.hasBeenUpdated\n      });\n    };\n\n    this.state = {\n      users: [],\n      hasBeenUpdated: false\n    };\n  }\n\n  componentDidMount() {\n    fetch('http://localhost:5000/api/users').then(res => res.json()).then(data => {\n      console.log(data);\n      this.setState({\n        users: data\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log('UPDATE');\n\n    if (prevState.hasBeenUpdated !== this.state.hasBeenUpdated) {\n      fetch('http://localhost:5000/api/users').then(res => res.json()).then(data => {\n        console.log(data);\n        this.setState({\n          users: data\n        });\n      });\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-center\",\n        children: \"Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: this.state.users.map((user, idx) => /*#__PURE__*/_jsxDEV(UserCard, {\n          user: user,\n          userId: this.props.userId,\n          updateUser: this.usersHaveBeenUpdated\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 58\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["/Users/Dominick/Documents/codingtemple-sept-2021/week7/react-intro-72/src/views/Users.js"],"names":["React","Component","UserCard","Users","constructor","props","usersHaveBeenUpdated","setState","hasBeenUpdated","state","users","componentDidMount","fetch","then","res","json","data","console","log","componentDidUpdate","prevProps","prevState","render","map","user","idx","userId"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,QAAP,MAAqB,wBAArB;;AAEA,eAAe,MAAMC,KAAN,SAAoBF,SAApB,CAA8B;AACzCG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SAoClBC,oBApCkB,GAoCK,MAAK;AACxB,WAAKC,QAAL,CAAc;AACVC,QAAAA,cAAc,EAAE,CAAC,KAAKC,KAAL,CAAWD;AADlB,OAAd;AAGH,KAxCiB;;AAEd,SAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETF,MAAAA,cAAc,EAAE;AAFP,KAAb;AAIH;;AAEDG,EAAAA,iBAAiB,GAAE;AACfC,IAAAA,KAAK,CAAC,iCAAD,CAAL,CACKC,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACVC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,WAAKT,QAAL,CAAc;AACVG,QAAAA,KAAK,EAAEM;AADG,OAAd;AAGH,KAPL;AASH;;AAEDG,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAsB;AACpCJ,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;;AACA,QAAIG,SAAS,CAACb,cAAV,KAA6B,KAAKC,KAAL,CAAWD,cAA5C,EAA2D;AAEvDI,MAAAA,KAAK,CAAC,iCAAD,CAAL,CACKC,IADL,CACUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADjB,EAEKF,IAFL,CAEUG,IAAI,IAAI;AACVC,QAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,aAAKT,QAAL,CAAc;AACVG,UAAAA,KAAK,EAAEM;AADG,SAAd;AAGH,OAPL;AASH;AACJ;;AAQDM,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA,kBACK,KAAKb,KAAL,CAAWC,KAAX,CAAiBa,GAAjB,CAAqB,CAACC,IAAD,EAAOC,GAAP,kBAAe,QAAC,QAAD;AAAoB,UAAA,IAAI,EAAED,IAA1B;AAAgC,UAAA,MAAM,EAAE,KAAKnB,KAAL,CAAWqB,MAAnD;AAA2D,UAAA,UAAU,EAAE,KAAKpB;AAA5E,WAAemB,GAAf;AAAA;AAAA;AAAA;AAAA,gBAApC;AADL;AAAA;AAAA;AAAA;AAAA,cAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAQH;;AApDwC","sourcesContent":["import React, { Component } from 'react'\nimport UserCard from '../components/UserCard';\n\nexport default class Users extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            users: [],\n            hasBeenUpdated: false\n        }\n    }\n\n    componentDidMount(){\n        fetch('http://localhost:5000/api/users')\n            .then(res => res.json())\n            .then(data => {\n                console.log(data)\n                this.setState({\n                    users: data\n                })\n            }\n        )\n    }\n\n    componentDidUpdate(prevProps, prevState){\n        console.log('UPDATE')\n        if (prevState.hasBeenUpdated !== this.state.hasBeenUpdated){\n\n            fetch('http://localhost:5000/api/users')\n                .then(res => res.json())\n                .then(data => {\n                    console.log(data)\n                    this.setState({\n                        users: data\n                    })\n                }\n            )\n        }\n    }\n\n    usersHaveBeenUpdated = () =>{\n        this.setState({\n            hasBeenUpdated: !this.state.hasBeenUpdated\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                <h1 className='text-center'>Users</h1>\n                <ul className='list-group'>\n                    {this.state.users.map((user, idx) => <UserCard key={idx} user={user} userId={this.props.userId} updateUser={this.usersHaveBeenUpdated}/>)}\n                </ul>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}